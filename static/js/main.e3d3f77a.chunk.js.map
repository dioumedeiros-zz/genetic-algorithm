{"version":3,"sources":["components/Header/index.js","components/City/index.js","api/controller/CityController.js","components/CityList/index.js","components/Modal/index.js","api/services/GeneticAlgorithim.js","pages/Home/index.js","App.js","index.js"],"names":["Header","className","City","current","destiny","addDistance","useState","time","setTime","useEffect","distance","filteredTime","find","c","id","name","type","maxLength","value","onChange","e","Number","target","console","log","onBlur","idList","CityController","city","cityList","JSON","parse","localStorage","getItem","index","length","newCity","setItem","stringify","cityRoutes","currentFiltered","newDistancies","filter","d","newMerge","distancesMerge","newCities","data","CityList","routes","setRoutes","currentCity","setCurrentCity","handleDistance","update","cities","newRoutes","map","route","key","Modal","open","close","modal","closeOnDocumentClick","onClose","chromosome","item","allDistance","generation","onClick","GeneticAlgorithim","this","MUTATION","POPULATION_SIZE","GENERATIONS","best","Math","ceil","random","splice","destinyCity","f","subject","totDistance","initialCity","forEach","chromo","getDistance","population","superPopulation","betters","floor","sortPopulation","push","firstGene","secondGene","randomGene","crossingGenes","validateDuplicity","wait","crossingList","duplicated","getDuplicated","includes","g","chromosomeList","min","max","waiting","sort","a","b","bestWay","createChromosome","element","fitness","i","anotherPopulation","firstParent","selection","secondParent","childs","crossover","transform","getBestDistance","List","setCity","selectList","setSelectList","setSelection","solution","setSolution","setOpen","setGeneration","loadCities","setTimeout","document","querySelector","selectedIndex","String","placeholder","store","toast","error","size","color","citySelected","delete","dist","isValid","bestRoute","initialize","App","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e3d3f77a.chunk.js","sourcesContent":["import React from \"react\";\n\nimport \"./styles.css\";\n\nexport default function Header() {\n  return (\n    <div className=\"container-header\">\n      <div className=\"content-header\">\n        <nav>\n          <div>Algoritmo Genético</div>\n          <p>Problema do caixeiro viajante</p>\n        </nav>\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\n\nexport default function City({ current, destiny, addDistance }) {\n  const [time, setTime] = useState(\"\");\n\n  useEffect(() => {\n    if (current.distance) {\n      const filteredTime = current.distance.find((c) => c.id === destiny.id);\n      if (filteredTime) {\n        setTime(filteredTime.time);\n      } else {\n        setTime(\"\");\n      }\n    }\n  }, [current, destiny]);\n\n  function handleTime(e) {\n    if (Number(e.target.value)) {\n      console.log(Number(e.target.value));\n      setTime(e.target.value);\n    } else {\n      setTime(0);\n    }\n  }\n\n  return (\n    <>\n      <div>{current && current.name}</div>\n      <div>{destiny && destiny.name}</div>\n      <input\n        type=\"text\"\n        maxLength=\"3\"\n        value={time}\n        onChange={handleTime}\n        onBlur={() =>\n          addDistance({ current, destiny: { id: destiny.id, time } })\n        }\n      />\n    </>\n  );\n}\n","const idList = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\"];\n\nclass CityController {\n  store(city) {\n    let cityList = JSON.parse(localStorage.getItem(\"cities\"));\n    const index = cityList ? cityList.length : 0;\n    const newCity = {\n      id: idList[index],\n      name: city,\n    };\n\n    cityList = cityList ? [...cityList, newCity] : [newCity];\n\n    localStorage.setItem(\"cities\", JSON.stringify(cityList));\n  }\n\n  update(cityRoutes) {\n    const cityList = JSON.parse(localStorage.getItem(\"cities\"));\n    let currentFiltered = cityList.find((c) => c.id === cityRoutes.current.id);\n\n    if (currentFiltered.distance) {\n      let newDistancies = currentFiltered.distance.filter(\n        (d) => d.id !== cityRoutes.destiny.id\n      );\n      currentFiltered.distance = [...newDistancies, cityRoutes.destiny];\n\n      let newMerge = cityList.find((c) => c.id === cityRoutes.destiny.id);\n\n      if (newMerge.distance) {\n        let distancesMerge = newMerge.distance.filter(\n          (d) => d.id !== currentFiltered.id\n        );\n\n        newMerge.distance = [\n          ...distancesMerge,\n          { id: currentFiltered.id, time: cityRoutes.destiny.time },\n        ];\n      } else {\n        newMerge.distance = [];\n        newMerge.distance = [\n          ...newMerge.distance,\n          { id: currentFiltered.id, time: cityRoutes.destiny.time },\n        ];\n      }\n    } else {\n      currentFiltered.distance = [];\n      currentFiltered.distance = [\n        ...currentFiltered.distance,\n        cityRoutes.destiny,\n      ];\n\n      let newMerge = cityList.find((c) => c.id === cityRoutes.destiny.id);\n\n      newMerge.distance = [];\n      newMerge.distance = [\n        ...newMerge.distance,\n        { id: currentFiltered.id, time: cityRoutes.destiny.time },\n      ];\n    }\n\n    let newCities = cityList.filter((c) => c.id !== currentFiltered.id);\n    newCities = [...newCities, currentFiltered];\n\n    localStorage.setItem(\"cities\", JSON.stringify(newCities));\n  }\n\n  delete(data) {\n    const cityList = JSON.parse(localStorage.getItem(\"cities\"));\n\n    let newCities = cityList.filter((c) => c.id !== data.id);\n    for (const city of newCities) {\n      if (city.name === data.name);\n      city.distance = city.distance.filter((c) => c.id !== data.id);\n    }\n\n    localStorage.setItem(\"cities\", JSON.stringify(newCities));\n  }\n}\n\nexport default CityController;\n","import React, { useState, useEffect } from \"react\";\nimport City from \"../City\";\n\nimport \"./styles.css\";\n\nimport CityController from \"../../api/controller/CityController\";\n\nexport default function CityList({ filter }) {\n  const [routes, setRoutes] = useState([]);\n  const [currentCity, setCurrentCity] = useState({});\n\n  useEffect(() => {\n    const cities = JSON.parse(localStorage.getItem(\"cities\"));\n\n    if (cities) {\n      const newRoutes = cities.filter((city) => city.id !== filter);\n      setRoutes(newRoutes);\n      const current = cities.find((city) => city.id === filter);\n      setCurrentCity(current);\n    }\n  }, [filter]);\n\n  function handleDistance(data) {\n    new CityController().update(data);\n  }\n\n  return (\n    <div className=\"grid\">\n      <div className=\"header\">\n        <div>Origem</div>\n        <div>Destino</div>\n        <div>Distância</div>\n      </div>\n      <div className=\"items\">\n        {routes &&\n          routes.map((route) => (\n            <City\n              key={route.id}\n              current={currentCity}\n              destiny={route}\n              addDistance={handleDistance}\n            />\n          ))}\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport Popup from \"reactjs-popup\";\nimport { MdKeyboardArrowRight } from \"react-icons/md\";\n\nimport \"./styles.css\";\n\nexport default function Modal({ open, data, close }) {\n  return (\n    <Popup open={open} modal closeOnDocumentClick onClose={close}>\n      {(close) => (\n        <div className=\"modal\">\n          <header>\n            <span>Melhor caminho</span>\n          </header>\n          <ul>\n            {data.chromosome.map((item) => (\n              <div key={item.id}>\n                <li>{item.name}</li>\n                <MdKeyboardArrowRight />\n              </div>\n            ))}\n            <li className=\"last\">{data.chromosome[0].name}</li>\n          </ul>\n          <hr />\n          <div className=\"grid-modal\">\n            <span className=\"title\">Distância</span>\n            <span className=\"value\">{data.allDistance}</span>\n            <span className=\"title\">Gerações</span>\n            <span className=\"value\">{data.generation}</span>\n          </div>\n          <div className=\"control\">\n            <button className=\"close\" onClick={close}>\n              Confirmar\n            </button>\n          </div>\n        </div>\n      )}\n    </Popup>\n  );\n}\n","class GeneticAlgorithim {\n  constructor(cities, generation) {\n    this.cities = cities;\n    this.MUTATION = 2;\n    this.POPULATION_SIZE = 20;\n    this.GENERATIONS = generation;\n    this.best = [];\n  }\n\n  createChromosome(data) {\n    let chromosome = [];\n    let cityList = [...data];\n    while (cityList.length > 0) {\n      const index = Math.ceil(Math.random() * cityList.length - 1);\n      chromosome = [...chromosome, cityList[index]];\n      cityList.splice(index, 1);\n    }\n    return chromosome;\n  }\n\n  getDistance(currentCity, destinyCity) {\n    const found = this.cities.find((city) => city.id === currentCity.id);\n    const distance = found.distance.find((f) => f.id === destinyCity.id);\n\n    return distance ? Number(distance.time) : 0;\n  }\n\n  fitness(subject) {\n    let currentCity = subject.chromosome[0];\n    let totDistance = 0;\n\n    const initialCity = currentCity;\n    subject.chromosome.forEach((chromo) => {\n      let destiny = chromo;\n\n      let distance = this.getDistance(currentCity, destiny);\n      totDistance += distance;\n\n      currentCity = destiny;\n    });\n\n    totDistance += this.getDistance(currentCity, initialCity);\n\n    subject.allDistance = totDistance;\n  }\n\n  selection(population) {\n    let superPopulation = [];\n\n    const betters = Math.floor(population.length / 2);\n    this.sortPopulation(population);\n    for (let index = 0; index < betters; index++) {\n      superPopulation.push(population[index]);\n    }\n\n    const randomChoise = Math.floor(Math.random() * betters);\n    return superPopulation[randomChoise];\n  }\n\n  crossover(firstGene, secondGene) {\n    let randomGene = Math.ceil(Math.random() * firstGene.length - 1);\n    this.crossingGenes(firstGene, secondGene, randomGene);\n    this.validateDuplicity(randomGene, firstGene, secondGene);\n\n    return [{ chromosome: firstGene }, { chromosome: secondGene }];\n  }\n\n  crossingGenes(firstGene, secondGene, randomGene) {\n    let wait = firstGene[randomGene];\n    firstGene[randomGene] = secondGene[randomGene];\n    secondGene[randomGene] = wait;\n  }\n\n  validateDuplicity(randomGene, firstGene, secondGene) {\n    let crossingList = [];\n    crossingList.push(randomGene);\n    while (true) {\n      let duplicated = this.getDuplicated(firstGene, crossingList);\n      if (duplicated === -1) {\n        break;\n      }\n      this.crossingGenes(firstGene, secondGene, duplicated);\n      crossingList.push(duplicated);\n    }\n  }\n\n  getDuplicated(firstGene, crossingList) {\n    for (let index = 0; index < firstGene.length; index++) {\n      if (crossingList.includes(index)) continue;\n\n      if (firstGene.filter((g) => g.id === firstGene[index].id).length > 1) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  transform(chromosomeList) {\n    const min = Math.ceil(1);\n    const max = Math.floor(100);\n    const rand = Math.floor(Math.random() * (max - min));\n    if (rand <= this.MUTATION) {\n      const firstGene = Math.ceil(Math.random() * chromosomeList.length - 1);\n      const secondGene = Math.ceil(Math.random() * chromosomeList.length - 1);\n      const waiting = chromosomeList[firstGene];\n      chromosomeList[firstGene] = chromosomeList[secondGene];\n      chromosomeList[secondGene] = waiting;\n    }\n    return { chromosome: chromosomeList };\n  }\n\n  sortPopulation(population) {\n    return population.sort((a, b) =>\n      a.allDistance < b.allDistance ? -1 : a.allDistance > b.allDistance ? 1 : 0\n    );\n  }\n\n  getBestDistance(bestWay) {\n    if (bestWay.allDistance < this.best.allDistance) {\n      bestWay.generation = this.GENERATIONS;\n      this.best = bestWay;\n    }\n  }\n\n  initialize() {\n    let population = [];\n    let subject;\n    while (population.length < this.POPULATION_SIZE) {\n      subject = {\n        chromosome: this.createChromosome(this.cities),\n        generation: 1,\n      };\n      population.push(subject);\n    }\n\n    population.forEach((element) => {\n      this.fitness(element);\n    });\n\n    this.best = population[0];\n\n    this.sortPopulation(population);\n    for (let i = 1; i <= this.GENERATIONS; i++) {\n      let anotherPopulation = [];\n      for (let index = 0; index < this.POPULATION_SIZE; index += 2) {\n        //Seleção\n        let firstParent = this.selection(population);\n        let secondParent = this.selection(population);\n\n        let childs = this.crossover(\n          firstParent.chromosome,\n          secondParent.chromosome\n        );\n\n        anotherPopulation = [\n          ...anotherPopulation,\n          this.transform(childs[0].chromosome),\n        ];\n        anotherPopulation = [\n          ...anotherPopulation,\n          this.transform(childs[1].chromosome),\n        ];\n      }\n\n      population = [];\n      population = anotherPopulation;\n\n      population.forEach((element) => {\n        this.fitness(element);\n      });\n\n      this.sortPopulation(population);\n      let bestWay = population[0];\n\n      this.getBestDistance(bestWay);\n    }\n\n    return this.best;\n  }\n}\n\nexport default GeneticAlgorithim;\n","import React, { useEffect, useState } from \"react\";\nimport { MdAdd, MdDeleteForever } from \"react-icons/md\";\nimport { toast } from \"react-toastify\";\n\nimport Header from \"../../components/Header\";\nimport CityList from \"../../components/CityList\";\nimport Modal from \"../../components/Modal\";\nimport \"./styles.css\";\n\nimport CityController from \"../../api/controller/CityController\";\nimport GeneticAlgorithim from \"../../api/services/GeneticAlgorithim\";\n\nexport default function List() {\n  const [city, setCity] = useState(\"\");\n  const [selectList, setSelectList] = useState([]);\n  const [selection, setSelection] = useState(\"A\");\n  const [solution, setSolution] = useState();\n  const [open, setOpen] = useState(false);\n  const [generation, setGeneration] = useState(1000);\n\n  useEffect(() => {\n    loadCities();\n  }, []);\n\n  function handleAddCity() {\n    const cities = JSON.parse(localStorage.getItem(\"cities\"));\n    if (!cities || cities.length < 10) {\n      new CityController().store(city);\n      loadCities();\n      setCity(\"\");\n    } else {\n      toast.error(\"No máximo 10 cidades\");\n    }\n  }\n\n  function loadCities() {\n    const cities = JSON.parse(localStorage.getItem(\"cities\"));\n\n    if (cities) {\n      setSelectList(cities);\n      const index = cities.length - 1;\n      setSelection(cities[index].id);\n      setTimeout(() => {\n        document.querySelector(\".select\").selectedIndex = String(index);\n      }, 100);\n    }\n  }\n\n  function handleExecute() {\n    const cities = JSON.parse(localStorage.getItem(\"cities\"));\n\n    if (isValid(cities)) {\n      const algorithm = new GeneticAlgorithim(cities, generation); //new GeneticAlgorithim.init(cities, generation);\n\n      const bestRoute = algorithm.initialize();\n      if (bestRoute) {\n        setSolution(bestRoute);\n        setOpen(true);\n      }\n    }\n  }\n\n  function isValid(cities) {\n    for (const city of cities) {\n      if (!city.distance) {\n        toast.error(\n          `Distância inválida. Verifique os destinos da cidade ${city.name}`\n        );\n        return false;\n      }\n      city.distance.forEach((dist) => {\n        if (!dist.time) {\n          toast.error(\n            `Distância inválida. Verifique os destinos da cidade ${city.name}`\n          );\n          return false;\n        }\n      });\n    }\n    return true;\n  }\n\n  function handleDelete() {\n    const cities = JSON.parse(localStorage.getItem(\"cities\"));\n    const citySelected = cities.find((c) => c.id === selection);\n    new CityController().delete(citySelected);\n    loadCities();\n  }\n\n  function handleCloseModal() {\n    setOpen(false);\n  }\n\n  return (\n    <>\n      <Header />\n      <div className=\"container\">\n        <div className=\"register\">\n          <input\n            placeholder=\"Insira uma cidade\"\n            value={city}\n            onChange={(e) => setCity(e.target.value)}\n          />\n          <button onClick={handleAddCity}>\n            <MdAdd size={25} />\n            CADASTRAR\n          </button>\n        </div>\n        <div className=\"content\">\n          <div className=\"controls\">\n            <div className=\"city-selected\">\n              <select\n                className=\"select\"\n                onChange={(e) => setSelection(e.target.value)}\n              >\n                {selectList.map((item) => (\n                  <option key={item.id} value={item.id}>\n                    {item.name}\n                  </option>\n                ))}\n              </select>\n              <MdDeleteForever\n                size={28}\n                color=\"#81259d\"\n                onClick={handleDelete}\n              />\n            </div>\n            <div className=\"generation\">\n              <label>Gerações</label>\n              <input\n                placeholder=\"Gerações\"\n                value={generation}\n                onChange={(e) => setGeneration(e.target.value)}\n              />\n            </div>\n          </div>\n          <CityList filter={selection} />\n        </div>\n        <button className=\"btn-execute\" onClick={handleExecute}>\n          EXECUTAR ALGORITMO\n        </button>\n        <Modal open={open} data={solution} close={handleCloseModal} />\n      </div>\n    </>\n  );\n}\n","import React from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport Home from \"./pages/Home\";\n\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"./styles/global.css\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <>\n      <Home />\n      <ToastContainer autoClose={6000} />\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}