{"version":3,"sources":["api/controller/CityController.js","api/services/GeneticAlgorithim.js","components/Header/index.js","components/City/index.js","components/CityList/index.js","components/Modal/index.js","pages/Home/index.js","App.js","index.js"],"names":["idList","CityController","city","cityList","JSON","parse","localStorage","getItem","index","length","newCity","id","name","setItem","stringify","cityRoutes","currentFiltered","find","c","current","distance","newDistancies","filter","d","destiny","newMerge","distancesMerge","time","newCities","data","module","exports","GeneticAlgorithim","cities","generation","this","MUTATION","POPULATION_SIZE","GENERATIONS","best","chromosome","Math","ceil","random","splice","currentCity","destinyCity","f","Number","subject","totDistance","initialCity","forEach","chromo","getDistance","allDistance","population","superPopulation","betters","floor","sortPopulation","push","firstGene","secondGene","randomGene","crossingGenes","validateDuplicity","wait","crossingList","duplicated","getDuplicated","includes","g","chromosomeList","min","max","waiting","sort","a","b","bestWay","createChromosome","element","fitness","i","anotherPopulation","firstParent","selection","secondParent","childs","crossover","transform","getBestDistance","Header","className","City","addDistance","useState","setTime","useEffect","filteredTime","type","maxLength","value","onChange","e","target","console","log","onBlur","require","CityList","routes","setRoutes","setCurrentCity","handleDistance","update","newRoutes","map","route","key","Modal","open","close","modal","closeOnDocumentClick","onClose","item","onClick","List","setCity","selectList","setSelectList","setSelection","solution","setSolution","setOpen","setGeneration","loadCities","setTimeout","document","querySelector","selectedIndex","String","placeholder","store","toast","error","size","color","citySelected","delete","dist","isValid","bestRoute","initialize","App","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4a1eba88.chunk.js","sourcesContent":["const idList = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\"];\n\nclass CityController {\n  store(city) {\n    let cityList = JSON.parse(localStorage.getItem(\"cities\"));\n    const index = cityList ? cityList.length : 0;\n    const newCity = {\n      id: idList[index],\n      name: city,\n    };\n\n    cityList = cityList ? [...cityList, newCity] : [newCity];\n\n    localStorage.setItem(\"cities\", JSON.stringify(cityList));\n  }\n\n  update(cityRoutes) {\n    const cityList = JSON.parse(localStorage.getItem(\"cities\"));\n    let currentFiltered = cityList.find((c) => c.id === cityRoutes.current.id);\n\n    if (currentFiltered.distance) {\n      let newDistancies = currentFiltered.distance.filter(\n        (d) => d.id !== cityRoutes.destiny.id\n      );\n      currentFiltered.distance = [...newDistancies, cityRoutes.destiny];\n\n      let newMerge = cityList.find((c) => c.id === cityRoutes.destiny.id);\n\n      if (newMerge.distance) {\n        let distancesMerge = newMerge.distance.filter(\n          (d) => d.id !== currentFiltered.id\n        );\n\n        newMerge.distance = [\n          ...distancesMerge,\n          { id: currentFiltered.id, time: cityRoutes.destiny.time },\n        ];\n      } else {\n        newMerge.distance = [];\n        newMerge.distance = [\n          ...newMerge.distance,\n          { id: currentFiltered.id, time: cityRoutes.destiny.time },\n        ];\n      }\n    } else {\n      currentFiltered.distance = [];\n      currentFiltered.distance = [\n        ...currentFiltered.distance,\n        cityRoutes.destiny,\n      ];\n\n      let newMerge = cityList.find((c) => c.id === cityRoutes.destiny.id);\n\n      newMerge.distance = [];\n      newMerge.distance = [\n        ...newMerge.distance,\n        { id: currentFiltered.id, time: cityRoutes.destiny.time },\n      ];\n    }\n\n    let newCities = cityList.filter((c) => c.id !== currentFiltered.id);\n    newCities = [...newCities, currentFiltered];\n\n    localStorage.setItem(\"cities\", JSON.stringify(newCities));\n  }\n\n  delete(data) {\n    const cityList = JSON.parse(localStorage.getItem(\"cities\"));\n\n    let newCities = cityList.filter((c) => c.id !== data.id);\n    for (const city of newCities) {\n      if (city.name === data.name);\n      city.distance = city.distance.filter((c) => c.id !== data.id);\n    }\n\n    localStorage.setItem(\"cities\", JSON.stringify(newCities));\n  }\n}\n\nmodule.exports = { CityController };\n","class GeneticAlgorithim {\n  constructor(cities, generation) {\n    this.cities = cities;\n    this.MUTATION = 2;\n    this.POPULATION_SIZE = 20;\n    this.GENERATIONS = generation;\n    this.best = [];\n  }\n\n  createChromosome(data) {\n    let chromosome = [];\n    let cityList = [...data];\n    while (cityList.length > 0) {\n      const index = Math.ceil(Math.random() * cityList.length - 1);\n      chromosome = [...chromosome, cityList[index]];\n      cityList.splice(index, 1);\n    }\n    return chromosome;\n  }\n\n  getDistance(currentCity, destinyCity) {\n    const found = this.cities.find((city) => city.id === currentCity.id);\n    const distance = found.distance.find((f) => f.id === destinyCity.id);\n\n    return distance ? Number(distance.time) : 0;\n  }\n\n  fitness(subject) {\n    let currentCity = subject.chromosome[0];\n    let totDistance = 0;\n\n    const initialCity = currentCity;\n    subject.chromosome.forEach((chromo) => {\n      let destiny = chromo;\n\n      let distance = this.getDistance(currentCity, destiny);\n      totDistance += distance;\n\n      currentCity = destiny;\n    });\n\n    totDistance += this.getDistance(currentCity, initialCity);\n\n    subject.allDistance = totDistance;\n  }\n\n  selection(population) {\n    let superPopulation = [];\n\n    const betters = Math.floor(population.length / 2);\n    this.sortPopulation(population);\n    for (let index = 0; index < betters; index++) {\n      superPopulation.push(population[index]);\n    }\n\n    const randomChoise = Math.floor(Math.random() * betters);\n    return superPopulation[randomChoise];\n  }\n\n  crossover(firstGene, secondGene) {\n    let randomGene = Math.ceil(Math.random() * firstGene.length - 1);\n    this.crossingGenes(firstGene, secondGene, randomGene);\n    this.validateDuplicity(randomGene, firstGene, secondGene);\n\n    return [{ chromosome: firstGene }, { chromosome: secondGene }];\n  }\n\n  crossingGenes(firstGene, secondGene, randomGene) {\n    let wait = firstGene[randomGene];\n    firstGene[randomGene] = secondGene[randomGene];\n    secondGene[randomGene] = wait;\n  }\n\n  validateDuplicity(randomGene, firstGene, secondGene) {\n    let crossingList = [];\n    crossingList.push(randomGene);\n    while (true) {\n      let duplicated = this.getDuplicated(firstGene, crossingList);\n      if (duplicated === -1) {\n        break;\n      }\n      this.crossingGenes(firstGene, secondGene, duplicated);\n      crossingList.push(duplicated);\n    }\n  }\n\n  getDuplicated(firstGene, crossingList) {\n    for (let index = 0; index < firstGene.length; index++) {\n      if (crossingList.includes(index)) continue;\n\n      if (firstGene.filter((g) => g.id === firstGene[index].id).length > 1) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  transform(chromosomeList) {\n    const min = Math.ceil(1);\n    const max = Math.floor(100);\n    const rand = Math.floor(Math.random() * (max - min));\n    if (rand <= this.MUTATION) {\n      const firstGene = Math.ceil(Math.random() * chromosomeList.length - 1);\n      const secondGene = Math.ceil(Math.random() * chromosomeList.length - 1);\n      const waiting = chromosomeList[firstGene];\n      chromosomeList[firstGene] = chromosomeList[secondGene];\n      chromosomeList[secondGene] = waiting;\n    }\n    return { chromosome: chromosomeList };\n  }\n\n  sortPopulation(population) {\n    return population.sort((a, b) =>\n      a.allDistance < b.allDistance ? -1 : a.allDistance > b.allDistance ? 1 : 0\n    );\n  }\n\n  getBestDistance(bestWay) {\n    if (bestWay.allDistance < this.best.allDistance) {\n      bestWay.generation = this.GENERATIONS;\n      this.best = bestWay;\n    }\n  }\n\n  initialize() {\n    let population = [];\n    let subject;\n    while (population.length < this.POPULATION_SIZE) {\n      subject = {\n        chromosome: this.createChromosome(this.cities),\n        generation: 1,\n      };\n      population.push(subject);\n    }\n\n    population.forEach((element) => {\n      this.fitness(element);\n    });\n\n    this.best = population[0];\n\n    this.sortPopulation(population);\n    for (let i = 1; i <= this.GENERATIONS; i++) {\n      let anotherPopulation = [];\n      for (let index = 0; index < this.POPULATION_SIZE; index += 2) {\n        //Seleção\n        let firstParent = this.selection(population);\n        let secondParent = this.selection(population);\n\n        let childs = this.crossover(\n          firstParent.chromosome,\n          secondParent.chromosome\n        );\n\n        anotherPopulation = [\n          ...anotherPopulation,\n          this.transform(childs[0].chromosome),\n        ];\n        anotherPopulation = [\n          ...anotherPopulation,\n          this.transform(childs[1].chromosome),\n        ];\n      }\n\n      population = [];\n      population = anotherPopulation;\n\n      population.forEach((element) => {\n        this.fitness(element);\n      });\n\n      this.sortPopulation(population);\n      let bestWay = population[0];\n\n      this.getBestDistance(bestWay);\n    }\n\n    return this.best;\n  }\n}\n\nmodule.exports = { GeneticAlgorithim };\n","import React from \"react\";\n\nimport \"./styles.css\";\n\nexport default function Header() {\n  return (\n    <div className=\"container-header\">\n      <div className=\"content-header\">\n        <nav>\n          <div>Algoritmo Genético</div>\n          <p>Problema do caixeiro viajante</p>\n        </nav>\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\n\nexport default function City({ current, destiny, addDistance }) {\n  const [time, setTime] = useState(\"\");\n\n  useEffect(() => {\n    if (current.distance) {\n      const filteredTime = current.distance.find((c) => c.id === destiny.id);\n      if (filteredTime) {\n        setTime(filteredTime.time);\n      } else {\n        setTime(\"\");\n      }\n    }\n  }, [current, destiny]);\n\n  function handleTime(e) {\n    if (Number(e.target.value)) {\n      console.log(Number(e.target.value));\n      setTime(e.target.value);\n    } else {\n      setTime(0);\n    }\n  }\n\n  return (\n    <>\n      <div>{current && current.name}</div>\n      <div>{destiny && destiny.name}</div>\n      <input\n        type=\"text\"\n        maxLength=\"3\"\n        value={time}\n        onChange={handleTime}\n        onBlur={() =>\n          addDistance({ current, destiny: { id: destiny.id, time } })\n        }\n      />\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport City from \"../City\";\n\nimport \"./styles.css\";\n\nconst CityController = require(\"../../api/controller/CityController\");\n\nexport default function CityList({ filter }) {\n  const [routes, setRoutes] = useState([]);\n  const [currentCity, setCurrentCity] = useState({});\n\n  useEffect(() => {\n    const cities = JSON.parse(localStorage.getItem(\"cities\"));\n\n    if (cities) {\n      const newRoutes = cities.filter((city) => city.id !== filter);\n      setRoutes(newRoutes);\n      const current = cities.find((city) => city.id === filter);\n      setCurrentCity(current);\n    }\n  }, [filter]);\n\n  function handleDistance(data) {\n    new CityController().update(data);\n  }\n\n  return (\n    <div className=\"grid\">\n      <div className=\"header\">\n        <div>Origem</div>\n        <div>Destino</div>\n        <div>Distância</div>\n      </div>\n      <div className=\"items\">\n        {routes &&\n          routes.map((route) => (\n            <City\n              key={route.id}\n              current={currentCity}\n              destiny={route}\n              addDistance={handleDistance}\n            />\n          ))}\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport Popup from \"reactjs-popup\";\nimport { MdKeyboardArrowRight } from \"react-icons/md\";\n\nimport \"./styles.css\";\n\nexport default function Modal({ open, data, close }) {\n  return (\n    <Popup open={open} modal closeOnDocumentClick onClose={close}>\n      {(close) => (\n        <div className=\"modal\">\n          <header>\n            <span>Melhor caminho</span>\n          </header>\n          <ul>\n            {data.chromosome.map((item) => (\n              <div key={item.id}>\n                <li>{item.name}</li>\n                <MdKeyboardArrowRight />\n              </div>\n            ))}\n            <li className=\"last\">{data.chromosome[0].name}</li>\n          </ul>\n          <hr />\n          <div className=\"grid-modal\">\n            <span className=\"title\">Distância</span>\n            <span className=\"value\">{data.allDistance}</span>\n            <span className=\"title\">Gerações</span>\n            <span className=\"value\">{data.generation}</span>\n          </div>\n          <div className=\"control\">\n            <button className=\"close\" onClick={close}>\n              Confirmar\n            </button>\n          </div>\n        </div>\n      )}\n    </Popup>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { MdAdd, MdDeleteForever } from \"react-icons/md\";\nimport { toast } from \"react-toastify\";\n\nimport Header from \"../../components/Header\";\nimport CityList from \"../../components/CityList\";\nimport Modal from \"../../components/Modal\";\nimport \"./styles.css\";\n\nconst { CityController } = require(\"../../api/controller/CityController\");\nconst { GeneticAlgorithim } = require(\"../../api/services/GeneticAlgorithim\");\n\nexport default function List() {\n  const [city, setCity] = useState(\"\");\n  const [selectList, setSelectList] = useState([]);\n  const [selection, setSelection] = useState(\"A\");\n  const [solution, setSolution] = useState();\n  const [open, setOpen] = useState(false);\n  const [generation, setGeneration] = useState(1000);\n\n  useEffect(() => {\n    loadCities();\n  }, []);\n\n  function handleAddCity() {\n    const cities = JSON.parse(localStorage.getItem(\"cities\"));\n    if (!cities || cities.length < 10) {\n      new CityController().store(city);\n      loadCities();\n      setCity(\"\");\n    } else {\n      toast.error(\"No máximo 10 cidades\");\n    }\n  }\n\n  function loadCities() {\n    const cities = JSON.parse(localStorage.getItem(\"cities\"));\n\n    if (cities) {\n      setSelectList(cities);\n      const index = cities.length - 1;\n      setSelection(cities[index].id);\n      setTimeout(() => {\n        document.querySelector(\".select\").selectedIndex = String(index);\n      }, 100);\n    }\n  }\n\n  function handleExecute() {\n    const cities = JSON.parse(localStorage.getItem(\"cities\"));\n\n    if (isValid(cities)) {\n      const algorithm = new GeneticAlgorithim(cities, generation); //new GeneticAlgorithim.init(cities, generation);\n\n      const bestRoute = algorithm.initialize();\n      if (bestRoute) {\n        setSolution(bestRoute);\n        setOpen(true);\n      }\n    }\n  }\n\n  function isValid(cities) {\n    for (const city of cities) {\n      if (!city.distance) {\n        toast.error(\n          `Distância inválida. Verifique os destinos da cidade ${city.name}`\n        );\n        return false;\n      }\n      city.distance.forEach((dist) => {\n        if (!dist.time) {\n          toast.error(\n            `Distância inválida. Verifique os destinos da cidade ${city.name}`\n          );\n          return false;\n        }\n      });\n    }\n    return true;\n  }\n\n  function handleDelete() {\n    const cities = JSON.parse(localStorage.getItem(\"cities\"));\n    const citySelected = cities.find((c) => c.id === selection);\n    new CityController().delete(citySelected);\n    loadCities();\n  }\n\n  function handleCloseModal() {\n    setOpen(false);\n  }\n\n  return (\n    <>\n      <Header />\n      <div className=\"container\">\n        <div className=\"register\">\n          <input\n            placeholder=\"Insira uma cidade\"\n            value={city}\n            onChange={(e) => setCity(e.target.value)}\n          />\n          <button onClick={handleAddCity}>\n            <MdAdd size={25} />\n            CADASTRAR\n          </button>\n        </div>\n        <div className=\"content\">\n          <div className=\"controls\">\n            <div className=\"city-selected\">\n              <select\n                className=\"select\"\n                onChange={(e) => setSelection(e.target.value)}\n              >\n                {selectList.map((item) => (\n                  <option key={item.id} value={item.id}>\n                    {item.name}\n                  </option>\n                ))}\n              </select>\n              <MdDeleteForever\n                size={28}\n                color=\"#81259d\"\n                onClick={handleDelete}\n              />\n            </div>\n            <div className=\"generation\">\n              <label>Gerações</label>\n              <input\n                placeholder=\"Gerações\"\n                value={generation}\n                onChange={(e) => setGeneration(e.target.value)}\n              />\n            </div>\n          </div>\n          <CityList filter={selection} />\n        </div>\n        <button className=\"btn-execute\" onClick={handleExecute}>\n          EXECUTAR ALGORITMO\n        </button>\n        <Modal open={open} data={solution} close={handleCloseModal} />\n      </div>\n    </>\n  );\n}\n","import React from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport Home from \"./pages/Home\";\n\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"./styles/global.css\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <>\n      <Home />\n      <ToastContainer autoClose={6000} />\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}